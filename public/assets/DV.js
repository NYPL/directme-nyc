(function(c){function b(){a()}function a(){var d=c({});s="subscribe";c.each({on:s,off:"un"+s,trigger:"publish"},function(f,e){c[e]=function(){d[f].apply(d,arguments)}})}return{init:b()}}(jQuery));(function(c){function b(){c.getJSON(window.location.protocol+"//"+window.location.host+"/api/indexes/"+environment.borough+".json",function(d){if(d.hasOwnProperty("idxs")){var f=d.idxs}if(d.hasOwnProperty("sections")){var e=d.sections}a(environment.borough,f,e)})}function a(g,d,f){if(typeof d==="undefined"||d===null){d=""}if(typeof f==="undefined"||f===null){f=false}var e=window.location.protocol+"//"+window.location.host+"/api/dvs/"+g+".json";if(g==="staten"){g="Staten Island"}DV.load(e,{container:".DV",sidebar:false,search:false,idxs:d,sections:f,boro:g})}return{init:b()}})(jQuery);
/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(f,e){function g(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function i(a,m){var l=a.nodeName.toLowerCase();if("area"===l){var k=a.parentNode,j=k.name,d;if(!a.href||!j||k.nodeName.toLowerCase()!=="map"){return !1}d=f("img[usemap=#"+j+"]")[0];return !!d&&g(d)}return(/input|select|textarea|button|object/.test(l)?!a.disabled:"a"==l?a.href||m:m)&&g(a)}f.ui=f.ui||{};f.ui.version||(f.extend(f.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){f(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?f(document):a},zIndex:function(k){if(k!==e){return this.css("zIndex",k)}if(this.length){var j=f(this[0]),b,a;while(j.length&&j[0]!==document){b=j.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(j.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}j=j.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.each(["Width","Height"],function(m,l){function a(n,q,p,o){f.each(k,function(){q-=parseFloat(f.curCSS(n,"padding"+this,!0))||0,p&&(q-=parseFloat(f.curCSS(n,"border"+this+"Width",!0))||0),o&&(q-=parseFloat(f.curCSS(n,"margin"+this,!0))||0)});return q}var k=l==="Width"?["Left","Right"]:["Top","Bottom"],j=l.toLowerCase(),b={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+l]=function(d){if(d===e){return b["inner"+l].call(this)}return this.each(function(){f(this).css(j,a(this,d)+"px")})},f.fn["outer"+l]=function(d,n){if(typeof d!="number"){return b["outer"+l].call(this,d)}return this.each(function(){f(this).css(j,a(this,d,!0,n)+"px")})}}),f.extend(f.expr[":"],{data:function(a,k,j){return !!f.data(a,j[3])},focusable:function(a){return i(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var j=f.attr(a,"tabindex"),c=isNaN(j);return(c||j>=0)&&i(a,!c)}}),f(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));d.offsetHeight,f.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=d.offsetHeight===100,f.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),f.extend(f.ui,{plugin:{add:function(a,m,l){var k=f.ui[a].prototype;for(var j in l){k.plugins[j]=k.plugins[j]||[],k.plugins[j].push([m,l[j]])}},call:function(k,j,n){var m=k.plugins[j];if(!!m&&!!k.element[0].parentNode){for(var l=0;l<m.length;l++){k.options[m[l][0]]&&m[l][1].apply(k.element,n)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,l){if(f(a).css("overflow")==="hidden"){return !1}var k=l&&l==="left"?"scrollLeft":"scrollTop",j=!1;if(a[k]>0){return !0}a[k]=1,j=a[k]>0,a[k]=0;return j},isOverAxis:function(j,d,k){return j>d&&j<d+k},isOver:function(a,n,m,l,k,j){return f.ui.isOverAxis(a,m,k)&&f.ui.isOverAxis(n,l,j)}}))})(jQuery);
/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(f,e){if(f.cleanData){var i=f.cleanData;f.cleanData=function(a){for(var k=0,j;(j=a[k])!=null;k++){try{f(j).triggerHandler("remove")}catch(c){}}i(a)}}else{var g=f.fn.remove;f.fn.remove=function(a,d){return this.each(function(){d||(!a||f.filter(a,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(c){}});return g.call(f(this),a,d)})}}f.widget=function(a,n,m){var l=a.split(".")[0],k;a=a.split(".")[1],k=l+"-"+a,m||(m=n,n=f.Widget),f.expr[":"][k]=function(b){return !!f.data(b,a)},f[l]=f[l]||{},f[l][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var j=new n;j.options=f.extend(!0,{},j.options),f[l][a].prototype=f.extend(!0,j,{namespace:l,widgetName:a,widgetEventPrefix:f[l][a].prototype.widgetEventPrefix||a,widgetBaseClass:k},m),f.widget.bridge(a,f[l][a])},f.widget.bridge=function(b,a){f.fn[b]=function(k){var j=typeof k=="string",d=Array.prototype.slice.call(arguments,1),c=this;k=!j&&d.length?f.extend.apply(null,[!0,k].concat(d)):k;if(j&&k.charAt(0)==="_"){return c}j?this.each(function(){var m=f.data(this,b),l=m&&f.isFunction(m[k])?m[k].apply(m,d):m;if(l!==m&&l!==e){c=l;return !1}}):this.each(function(){var l=f.data(this,b);l?l.option(k||{})._init():f.data(this,b,new a(k,this))});return c}},f.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,k){f.data(k,this.widgetName,this),this.element=f(k),this.options=f.extend(!0,{},this.options,this._getCreateOptions(),a);var j=this;this.element.bind("remove."+this.widgetName,function(){j.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,b){var a=j;if(arguments.length===0){return f.extend({},this.options)}if(typeof j=="string"){if(b===e){return this.options[j]}a={},a[j]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;f.each(a,function(j,c){d._setOption(j,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,n,m){var l,k,j=this.options[a];m=m||{},n=f.Event(n),n.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),n.target=this.element[0],k=n.originalEvent;if(k){for(l in k){l in n||(n[l]=k[l])}}this.element.trigger(n,m);return !(f.isFunction(j)&&j.call(this.element[0],n,m)===!1||n.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,d){var f=!1;e(document).mouseup(function(b){f=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var i=this,g=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return i._mouseMove(b)},this._mouseUpDelegate=function(b){return i._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})})(jQuery);(function(j,i){j.ui=j.ui||{};var p=/left|center|right/,o=/top|center|bottom/,n="center",m={},l=j.fn.position,k=j.fn.offset;j.fn.position=function(c){if(!c||!c.of){return l.apply(this,arguments)}c=j.extend({},c);var q=j(c.of),g=q[0],f=(c.collision||"flip").split(" "),e=c.offset?c.offset.split(" "):[0,0],d,a,r;g.nodeType===9?(d=q.width(),a=q.height(),r={top:0,left:0}):g.setTimeout?(d=q.width(),a=q.height(),r={top:q.scrollTop(),left:q.scrollLeft()}):g.preventDefault?(c.at="left top",d=a=0,r={top:c.of.pageY,left:c.of.pageX}):(d=q.outerWidth(),a=q.outerHeight(),r=q.offset()),j.each(["my","at"],function(){var b=(c[this]||"").split(" ");b.length===1&&(b=p.test(b[0])?b.concat([n]):o.test(b[0])?[n].concat(b):[n,n]),b[0]=p.test(b[0])?b[0]:n,b[1]=o.test(b[1])?b[1]:n,c[this]=b}),f.length===1&&(f[1]=f[0]),e[0]=parseInt(e[0],10)||0,e.length===1&&(e[1]=e[0]),e[1]=parseInt(e[1],10)||0,c.at[0]==="right"?r.left+=d:c.at[0]===n&&(r.left+=d/2),c.at[1]==="bottom"?r.top+=a:c.at[1]===n&&(r.top+=a/2),r.left+=e[0],r.top+=e[1];return this.each(function(){var C=j(this),B=C.outerWidth(),A=C.outerHeight(),z=parseInt(j.curCSS(this,"marginLeft",!0))||0,y=parseInt(j.curCSS(this,"marginTop",!0))||0,x=B+z+(parseInt(j.curCSS(this,"marginRight",!0))||0),v=A+y+(parseInt(j.curCSS(this,"marginBottom",!0))||0),u=j.extend({},r),b;c.my[0]==="right"?u.left-=B:c.my[0]===n&&(u.left-=B/2),c.my[1]==="bottom"?u.top-=A:c.my[1]===n&&(u.top-=A/2),m.fractions||(u.left=Math.round(u.left),u.top=Math.round(u.top)),b={left:u.left-z,top:u.top-y},j.each(["left","top"],function(E,D){j.ui.position[f[E]]&&j.ui.position[f[E]][D](u,{targetWidth:d,targetHeight:a,elemWidth:B,elemHeight:A,collisionPosition:b,collisionWidth:x,collisionHeight:v,offset:e,my:c.my,at:c.at})}),j.fn.bgiframe&&C.bgiframe(),C.offset(j.extend(u,{using:c.using}))})},j.ui.position={fit:{left:function(a,q){var g=j(window),f=q.collisionPosition.left+q.collisionWidth-g.width()-g.scrollLeft();a.left=f>0?a.left-f:Math.max(a.left-q.collisionPosition.left,a.left)},top:function(a,q){var g=j(window),f=q.collisionPosition.top+q.collisionHeight-g.height()-g.scrollTop();a.top=f>0?a.top-f:Math.max(a.top-q.collisionPosition.top,a.top)}},flip:{left:function(a,x){if(x.at[0]!==n){var v=j(window),u=x.collisionPosition.left+x.collisionWidth-v.width()-v.scrollLeft(),r=x.my[0]==="left"?-x.elemWidth:x.my[0]==="right"?x.elemWidth:0,q=x.at[0]==="left"?x.targetWidth:-x.targetWidth,e=-2*x.offset[0];a.left+=x.collisionPosition.left<0?r+q+e:u>0?r+q+e:0}},top:function(a,x){if(x.at[1]!==n){var v=j(window),u=x.collisionPosition.top+x.collisionHeight-v.height()-v.scrollTop(),r=x.my[1]==="top"?-x.elemHeight:x.my[1]==="bottom"?x.elemHeight:0,q=x.at[1]==="top"?x.targetHeight:-x.targetHeight,e=-2*x.offset[1];a.top+=x.collisionPosition.top<0?r+q+e:u>0?r+q+e:0}}}},j.offset.setOffset||(j.offset.setOffset=function(a,y){/static/.test(j.curCSS(a,"position"))&&(a.style.position="relative");var x=j(a),v=x.offset(),u=parseInt(j.curCSS(a,"top",!0),10)||0,r=parseInt(j.curCSS(a,"left",!0),10)||0,q={top:y.top-v.top+u,left:y.left-v.left+r};"using" in y?y.using.call(a,q):x.css(q)},j.fn.offset=function(a){var d=this[0];if(!d||!d.ownerDocument){return null}if(a){return this.each(function(){j.offset.setOffset(this,a)})}return k.call(this)}),function(){var a=document.getElementsByTagName("body")[0],y=document.createElement("div"),x,v,u,r,q;x=document.createElement(a?"div":"body"),u={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&j.extend(u,{position:"absolute",left:"-1000px",top:"-1000px"});for(var f in u){x.style[f]=u[f]}x.appendChild(y),v=a||document.documentElement,v.insertBefore(x,v.firstChild),y.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=j(y).offset(function(d,c){return c}).offset(),x.innerHTML="",v.removeChild(x),q=r.top+r.left+(a?2000:0),m.fractions=q>21&&q<22}()})(jQuery);(function(d,c){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(a){var e=this.options;if(this.helper||e.disabled||d(a.target).is(".ui-resizable-handle")){return !1}this.handle=this._getHandle(a);if(!this.handle){return !1}e.iframeFix&&d(e.iframeFix===!0?"iframe":e.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body")});return !0},_mouseStart:function(a){var e=this.options;this.helper=this._createHelper(a),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment();if(this._trigger("start",a)===!1){this._clear();return !1}this._cacheHelperProportions(),d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(a,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return !0},_mouseDrag:function(a,f){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",a,e)===!1){this._mouseUp({});return !1}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return !1},_mouseStop:function(a){var f=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(f=d.ui.ddmanager.drop(this,a)),this.dropped&&(f=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return !1}if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===!0||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var e=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==!1&&e._clear()})}else{this._trigger("stop",a)!==!1&&this._clear()}return !1},_mouseUp:function(a){this.options.iframeFix===!0&&d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var e=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(e=!0)});return e},_createHelper:function(a){var f=this.options,e=d.isFunction(f.helper)?d(f.helper.apply(this.element[0],[a])):f.helper=="clone"?this.element.clone().removeAttr("id"):this.element;e.parents("body").length||e.appendTo(f.appendTo=="parent"?this.element[0].parentNode:f.appendTo),e[0]!=this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))&&e.css("position","absolute");return e},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;a.containment=="parent"&&(a.containment=this.helper[0].parentNode);if(a.containment=="document"||a.containment=="window"){this.containment=[a.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var k=d(a.containment),j=k[0];if(!j){return}var i=k.offset(),g=d(j).css("overflow")!="hidden";this.containment=[(parseInt(d(j).css("borderLeftWidth"),10)||0)+(parseInt(d(j).css("paddingLeft"),10)||0),(parseInt(d(j).css("borderTopWidth"),10)||0)+(parseInt(d(j).css("paddingTop"),10)||0),(g?Math.max(j.scrollWidth,j.offsetWidth):j.offsetWidth)-(parseInt(d(j).css("borderLeftWidth"),10)||0)-(parseInt(d(j).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(j.scrollHeight,j.offsetHeight):j.offsetHeight)-(parseInt(d(j).css("borderTopWidth"),10)||0)-(parseInt(d(j).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=k}else{a.containment.constructor==Array&&(this.containment=a.containment)}},_convertPositionTo:function(a,m){m||(m=this.position);var l=a=="absolute"?1:-1,k=this.options,j=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=/(html|body)/i.test(j[0].tagName);return{top:m.top+this.offset.relative.top*l+this.offset.parent.top*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:j.scrollTop())*l),left:m.left+this.offset.relative.left*l+this.offset.parent.left*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:j.scrollLeft())*l)}},_generatePosition:function(v){var u=this.options,r=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(r[0].tagName),p=v.pageX,o=v.pageY;if(this.originalPosition){var n;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();n=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{n=this.containment}v.pageX-this.offset.click.left<n[0]&&(p=n[0]+this.offset.click.left),v.pageY-this.offset.click.top<n[1]&&(o=n[1]+this.offset.click.top),v.pageX-this.offset.click.left>n[2]&&(p=n[2]+this.offset.click.left),v.pageY-this.offset.click.top>n[3]&&(o=n[3]+this.offset.click.top)}if(u.grid){var l=u.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/u.grid[1])*u.grid[1]:this.originalPageY;o=n?l-this.offset.click.top<n[1]||l-this.offset.click.top>n[3]?l-this.offset.click.top<n[1]?l+u.grid[1]:l-u.grid[1]:l:l;var a=u.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/u.grid[0])*u.grid[0]:this.originalPageX;p=n?a-this.offset.click.left<n[0]||a-this.offset.click.left>n[2]?a-this.offset.click.left<n[0]?a+u.grid[0]:a-u.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():q?0:r.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():q?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(a,f,e){e=e||this._uiHash(),d.ui.plugin.call(this,a,[f,e]),a=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return d.Widget.prototype._trigger.call(this,a,f,e)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),d.extend(d.ui.draggable,{version:"1.8.18"}),d.ui.plugin.add("draggable","connectToSortable",{start:function(a,k){var j=d(this).data("draggable"),i=j.options,g=d.extend({},k,{item:j.element});j.sortables=[],d(i.connectToSortable).each(function(){var b=d.data(this,"sortable");b&&!b.options.disabled&&(j.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,g))})},stop:function(a,i){var g=d(this).data("draggable"),f=d.extend({},i,{item:g.element});d.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,f))})},drag:function(a,k){var j=d(this).data("draggable"),i=this,g=function(v){var u=this.offset.click.top,r=this.offset.click.left,q=this.positionAbs.top,p=this.positionAbs.left,o=v.height,n=v.width,m=v.top,l=v.left;return d.ui.isOver(q+u,p+r,m,l,o,n)};d.each(j.sortables,function(b){this.instance.positionAbs=j.positionAbs,this.instance.helperProportions=j.helperProportions,this.instance.offset.click=j.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return k.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=j.offset.click.top,this.instance.offset.click.left=j.offset.click.left,this.instance.offset.parent.left-=j.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=j.offset.parent.top-this.instance.offset.parent.top,j._trigger("toSortable",a),j.dropped=this.instance.element,j.currentItem=j.element,this.instance.fromOutside=j),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),j._trigger("fromSortable",a),j.dropped=!1)})}}),d.ui.plugin.add("draggable","cursor",{start:function(a,i){var g=d("body"),f=d(this).data("draggable").options;g.css("cursor")&&(f._cursor=g.css("cursor")),g.css("cursor",f.cursor)},stop:function(a,f){var e=d(this).data("draggable").options;e._cursor&&d("body").css("cursor",e._cursor)}}),d.ui.plugin.add("draggable","opacity",{start:function(a,i){var g=d(i.helper),f=d(this).data("draggable").options;g.css("opacity")&&(f._opacity=g.css("opacity")),g.css("opacity",f.opacity)},stop:function(a,f){var e=d(this).data("draggable").options;e._opacity&&d(f.helper).css("opacity",e._opacity)}}),d.ui.plugin.add("draggable","scroll",{start:function(a,f){var e=d(this).data("draggable");e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"&&(e.overflowOffset=e.scrollParent.offset())},drag:function(a,k){var j=d(this).data("draggable"),i=j.options,g=!1;if(j.scrollParent[0]!=document&&j.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x"){j.overflowOffset.top+j.scrollParent[0].offsetHeight-a.pageY<i.scrollSensitivity?j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop+i.scrollSpeed:a.pageY-j.overflowOffset.top<i.scrollSensitivity&&(j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop-i.scrollSpeed)}if(!i.axis||i.axis!="y"){j.overflowOffset.left+j.scrollParent[0].offsetWidth-a.pageX<i.scrollSensitivity?j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft+i.scrollSpeed:a.pageX-j.overflowOffset.left<i.scrollSensitivity&&(j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft-i.scrollSpeed)}}else{if(!i.axis||i.axis!="x"){a.pageY-d(document).scrollTop()<i.scrollSensitivity?g=d(document).scrollTop(d(document).scrollTop()-i.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<i.scrollSensitivity&&(g=d(document).scrollTop(d(document).scrollTop()+i.scrollSpeed))}if(!i.axis||i.axis!="y"){a.pageX-d(document).scrollLeft()<i.scrollSensitivity?g=d(document).scrollLeft(d(document).scrollLeft()-i.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<i.scrollSensitivity&&(g=d(document).scrollLeft(d(document).scrollLeft()+i.scrollSpeed))}}g!==!1&&d.ui.ddmanager&&!i.dropBehaviour&&d.ui.ddmanager.prepareOffsets(j,a)}}),d.ui.plugin.add("draggable","snap",{start:function(a,i){var g=d(this).data("draggable"),f=g.options;g.snapElements=[],d(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var e=d(this),j=e.offset();this!=g.element[0]&&g.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:j.top,left:j.left})})},drag:function(M,L){var K=d(this).data("draggable"),J=K.options,I=J.snapTolerance,H=L.offset.left,G=H+K.helperProportions.width,F=L.offset.top,E=F+K.helperProportions.height;for(var D=K.snapElements.length-1;D>=0;D--){var C=K.snapElements[D].left,B=C+K.snapElements[D].width,A=K.snapElements[D].top,z=A+K.snapElements[D].height;if(!(C-I<H&&H<B+I&&A-I<F&&F<z+I||C-I<H&&H<B+I&&A-I<E&&E<z+I||C-I<G&&G<B+I&&A-I<F&&F<z+I||C-I<G&&G<B+I&&A-I<E&&E<z+I)){K.snapElements[D].snapping&&K.options.snap.release&&K.options.snap.release.call(K.element,M,d.extend(K._uiHash(),{snapItem:K.snapElements[D].item})),K.snapElements[D].snapping=!1;continue}if(J.snapMode!="inner"){var y=Math.abs(A-E)<=I,x=Math.abs(z-F)<=I,v=Math.abs(C-G)<=I,u=Math.abs(B-H)<=I;y&&(L.position.top=K._convertPositionTo("relative",{top:A-K.helperProportions.height,left:0}).top-K.margins.top),x&&(L.position.top=K._convertPositionTo("relative",{top:z,left:0}).top-K.margins.top),v&&(L.position.left=K._convertPositionTo("relative",{top:0,left:C-K.helperProportions.width}).left-K.margins.left),u&&(L.position.left=K._convertPositionTo("relative",{top:0,left:B}).left-K.margins.left)}var a=y||x||v||u;if(J.snapMode!="outer"){var y=Math.abs(A-F)<=I,x=Math.abs(z-E)<=I,v=Math.abs(C-H)<=I,u=Math.abs(B-G)<=I;y&&(L.position.top=K._convertPositionTo("relative",{top:A,left:0}).top-K.margins.top),x&&(L.position.top=K._convertPositionTo("relative",{top:z-K.helperProportions.height,left:0}).top-K.margins.top),v&&(L.position.left=K._convertPositionTo("relative",{top:0,left:C}).left-K.margins.left),u&&(L.position.left=K._convertPositionTo("relative",{top:0,left:B-K.helperProportions.width}).left-K.margins.left)}!K.snapElements[D].snapping&&(y||x||v||u||a)&&K.options.snap.snap&&K.options.snap.snap.call(K.element,M,d.extend(K._uiHash(),{snapItem:K.snapElements[D].item})),K.snapElements[D].snapping=y||x||v||u||a}}}),d.ui.plugin.add("draggable","stack",{start:function(a,k){var j=d(this).data("draggable").options,i=d.makeArray(d(j.stack)).sort(function(e,f){return(parseInt(d(e).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(!!i.length){var g=parseInt(i[0].style.zIndex)||0;d(i).each(function(b){this.style.zIndex=g+b}),this[0].style.zIndex=g+i.length}}}),d.ui.plugin.add("draggable","zIndex",{start:function(a,i){var g=d(i.helper),f=d(this).data("draggable").options;g.css("zIndex")&&(f._zIndex=g.css("zIndex")),g.css("zIndex",f.zIndex)},stop:function(a,f){var e=d(this).data("draggable").options;e._zIndex&&d(f.helper).css("zIndex",e._zIndex)}})})(jQuery);(function(e,d){var f=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,i=this.element[0].ownerDocument,g;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(j){if(!a.options.disabled&&!a.element.propAttr("readOnly")){g=!1;var b=e.ui.keyCode;switch(j.keyCode){case b.PAGE_UP:a._move("previousPage",j);break;case b.PAGE_DOWN:a._move("nextPage",j);break;case b.UP:a._move("previous",j),j.preventDefault();break;case b.DOWN:a._move("next",j),j.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:a.menu.active&&(g=!0,j.preventDefault());case b.TAB:if(!a.menu.active){return}a.menu.select(j);break;case b.ESCAPE:a.element.val(a.term),a.close(j);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=a.element.val()&&(a.selectedItem=null,a.search(null,j))},a.options.delay)}}}).bind("keypress.autocomplete",function(b){g&&(g=!1,b.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(b){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b),a._change(b)},150))}),this._initSource(),this.response=function(){return a._response.apply(a,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",i)[0]).mousedown(function(j){var b=a.menu.element[0];e(j.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(k){k.target!==a.element[0]&&k.target!==b&&!e.ui.contains(b,k.target)&&a.close()})},1),setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(b,k){var j=k.item.data("item.autocomplete");!1!==a._trigger("focus",b,{item:j})&&/^key/.test(b.originalEvent.type)&&a.element.val(j.value)},selected:function(b,k){var j=k.item.data("item.autocomplete"),c=a.previous;a.element[0]!==i.activeElement&&(a.element.focus(),a.previous=c,setTimeout(function(){a.previous=c,a.selectedItem=j},1)),!1!==a._trigger("select",b,{item:j})&&a.element.val(j.value),a.term=a.element.val(),a.close(b),a.selectedItem=j},blur:function(b,j){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")},e(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(a,g){e.Widget.prototype._setOption.apply(this,arguments),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(e(g||"body",this.element[0].ownerDocument)[0]),a==="disabled"&&g&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,g,c;e.isArray(this.options.source)?(g=this.options.source,this.source=function(i,j){j(e.ui.autocomplete.filter(g,i.term))}):typeof this.options.source=="string"?(c=this.options.source,this.source=function(i,b){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:c,data:i,dataType:"json",context:{autocompleteRequest:++f},success:function(k,j){this.autocompleteRequest===f&&b(k)},error:function(){this.autocompleteRequest===f&&b([])}})}):this.source=this.options.source},search:function(g,c){g=g!=null?g:this.element.val(),this.term=this.element.val();if(g.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==!1){return this._search(g)}},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:b},this.response)},_response:function(b){!this.options.disabled&&b&&b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",b))},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value){return a}return e.map(a,function(c){if(typeof c=="string"){return{label:c,value:c}}return e.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(a){var g=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(g,a),this.menu.deactivate(),this.menu.refresh(),g.show(),this._resizeMenu(),g.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,i){var g=this;e.each(i,function(b,j){g._renderItem(a,j)})},_renderItem:function(a,g){return e("<li></li>").data("item.autocomplete",g).append(e("<a></a>").text(g.label)).appendTo(a)},_move:function(g,c){if(!this.menu.element.is(":visible")){this.search(null,c)}else{if(this.menu.first()&&/^previous/.test(g)||this.menu.last()&&/^next/.test(g)){this.element.val(this.term),this.menu.deactivate();return}this.menu[g](c)}},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,i){var g=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(a,function(b){return g.test(b.label||b.value||b)})}})})(jQuery),function(b){b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){!b(d.target).closest(".ui-menu-item a").length||(d.preventDefault(),a.select(d))}),this.refresh()},refresh:function(){var a=this,d=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");d.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){a.activate(e,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(g,f){this.deactivate();if(this.hasScroll()){var k=f.offset().top-this.element.offset().top,j=this.element.scrollTop(),i=this.element.height();k<0?this.element.scrollTop(j+k):k>=i&&this.element.scrollTop(j+k-i+f.height())}this.active=f.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",g,{item:f})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,e,i){if(!this.active){this.activate(i,this.element.children(e))}else{var g=this.active[f+"All"](".ui-menu-item").eq(0);g.length?this.activate(i,g):this.activate(i,this.element.children(e))}},nextPage:function(a){if(this.hasScroll()){if(!this.active||this.last()){this.activate(a,this.element.children(".ui-menu-item:first"));return}var i=this.active.offset().top,g=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-i-g+b(this).height();return c<10&&c>-10});f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(a,f)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(a){if(this.hasScroll()){if(!this.active||this.first()){this.activate(a,this.element.children(".ui-menu-item:last"));return}var f=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-f+e-b(this).height();return c<10&&c>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(a,result)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})}(jQuery);(function(e,d){var f=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,n=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=n.values&&n.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&n.values.length!==2&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")));for(var c=m.length;c<k;c+=1){j.push(l)}this.handles=m.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(g){e(this).data("index.ui-slider-handle",g)}),this.handles.keydown(function(u){var r=e(this).data("index.ui-slider-handle"),q,p,o,b;if(!a.options.disabled){switch(u.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:u.preventDefault();if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),q=a._start(u,r);if(q===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?p=o=a.values(r):p=o=a.value();switch(u.keyCode){case e.ui.keyCode.HOME:o=a._valueMin();break;case e.ui.keyCode.END:o=a._valueMax();break;case e.ui.keyCode.PAGE_UP:o=a._trimAlignValue(p+(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.PAGE_DOWN:o=a._trimAlignValue(p-(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(p===a._valueMax()){return}o=a._trimAlignValue(p+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(p===a._valueMin()){return}o=a._trimAlignValue(p-b)}a._slide(u,r,o)}}).keyup(function(g){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(g,b),a._change(g,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(y){var x=this.options,v,u,r,q,p,o,n,m,a;if(x.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),v={x:y.pageX,y:y.pageY},u=this._normValueFromMouse(v),r=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(g){var i=Math.abs(u-p.values(g));r>i&&(r=i,q=e(this),o=g)}),x.range===!0&&this.values(1)===x.min&&(o+=1,q=e(this.handles[o])),n=this._start(y,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(y.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:y.pageX-m.left-q.width()/2,top:y.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(y,o,u),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(i){var g={x:i.pageX,y:i.pageY},j=this._normValueFromMouse(g);this._slide(i,this._handleIndex,j);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(i){var g,m,l,k,j;this.orientation==="horizontal"?(g=this.elementSize.width,m=i.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,m=i.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),l=m/g,l>1&&(l=1),l<0&&(l=0),this.orientation==="vertical"&&(l=1-l),k=this._valueMax()-this._valueMin(),j=this._valueMin()+l*k;return this._trimAlignValue(j)},_start:function(i,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values());return this._trigger("start",i,j)},_slide:function(i,g,m){var l,k,j;this.options.values&&this.options.values.length?(l=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&m>l||g===1&&m<l)&&(m=l),m!==this.values(g)&&(k=this.values(),k[g]=m,j=this._trigger("slide",i,{handle:this.handles[g],value:m,values:k}),l=this.values(g?0:1),j!==!1&&this.values(g,m,!0))):m!==this.value()&&(j=this._trigger("slide",i,{handle:this.handles[g],value:m}),j!==!1&&this.value(m))},_stop:function(i,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("stop",i,j)},_change:function(i,g){if(!this._keySliding&&!this._mouseSliding){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("change",i,j)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,k){var j,i,g;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(k),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}j=this.options.values,i=arguments[0];for(g=0;g<j.length;g+=1){j[g]=this._trimAlignValue(i[g]),this._change(null,g)}this._refreshValue()}},_setOption:function(a,j){var i,g=0;e.isArray(this.options.values)&&(g=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":j?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(i=0;i<g;i+=1){this._change(null,i)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(i){var g,k,j;if(arguments.length){g=this.options.values[i],g=this._trimAlignValue(g);return g}k=this.options.values.slice();for(j=0;j<k.length;j+=1){k[j]=this._trimAlignValue(k[j])}return k},_trimAlignValue:function(i){if(i<=this._valueMin()){return this._valueMin()}if(i>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,k=(i-this._valueMin())%g,j=i-k;Math.abs(k)*2>=g&&(j+=k>0?g:-g);return parseFloat(j.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var v=this.options.range,u=this.options,r=this,q=this._animateOff?!1:u.animate,p,o={},n,m,l,a;this.options.values&&this.options.values.length?this.handles.each(function(c,g){p=(r.values(c)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",e(this).stop(1,1)[q?"animate":"css"](o,u.animate),r.options.range===!0&&(r.orientation==="horizontal"?(c===0&&r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},u.animate),c===1&&r.range[q?"animate":"css"]({width:p-n+"%"},{queue:!1,duration:u.animate})):(c===0&&r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},u.animate),c===1&&r.range[q?"animate":"css"]({height:p-n+"%"},{queue:!1,duration:u.animate}))),n=p}):(m=this.value(),l=this._valueMin(),a=this._valueMax(),p=a!==l?(m-l)/(a-l)*100:0,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[q?"animate":"css"](o,u.animate),v==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},u.animate),v==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:u.animate}),v==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},u.animate),v==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:u.animate}))}}),e.extend(e.ui.slider,{version:"1.8.18"})})(jQuery);(function(i,g){function j(){return ++l}function k(){return ++m}var m=0,l=0;i.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(d,c){if(d=="selected"){if(this.options.collapsible&&c==this.options.selected){return}this.select(c)}else{this.options[d]=c,this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+k()},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var a=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+j());return i.cookie.apply(null,[a].concat(i.makeArray(arguments)))},_ui:function(d,c){return{tab:d,panel:c,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=i(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(C){function p(d,e){d.css("display",""),!i.support.opacity&&e.opacity&&d[0].style.removeAttribute("filter")}var B=this,A=this.options,z=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=i(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return i("a",this)[0]}),this.panels=i([]),this.anchors.each(function(d,E){var D=i(E).attr("href"),o=D.split("#")[0],n;o&&(o===location.toString().split("#")[0]||(n=i("base")[0])&&o===n.href)&&(D=E.hash,E.href=D);if(z.test(D)){B.panels=B.panels.add(B.element.find(B._sanitizeSelector(D)))}else{if(D&&D!=="#"){i.data(E,"href.tabs",D),i.data(E,"load.tabs",D.replace(/#.*$/,""));var f=B._tabId(E);E.href="#"+f;var e=B.element.find("#"+f);e.length||(e=i(A.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(B.panels[d-1]||B.list),e.data("destroy.tabs",!0)),B.panels=B.panels.add(e)}else{A.disabled.push(d)}}}),C?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),A.selected===g?(location.hash&&this.anchors.each(function(d,c){if(c.hash==location.hash){A.selected=d;return !1}}),typeof A.selected!="number"&&A.cookie&&(A.selected=parseInt(B._cookie(),10)),typeof A.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(A.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),A.selected=A.selected||(this.lis.length?0:-1)):A.selected===null&&(A.selected=-1),A.selected=A.selected>=0&&this.anchors[A.selected]||A.selected<0?A.selected:0,A.disabled=i.unique(A.disabled.concat(i.map(this.lis.filter(".ui-state-disabled"),function(d,c){return B.lis.index(d)}))).sort(),i.inArray(A.selected,A.disabled)!=-1&&A.disabled.splice(i.inArray(A.selected,A.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),A.selected>=0&&this.anchors.length&&(B.element.find(B._sanitizeSelector(B.anchors[A.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(A.selected).addClass("ui-tabs-selected ui-state-active"),B.element.queue("tabs",function(){B._trigger("show",null,B._ui(B.anchors[A.selected],B.element.find(B._sanitizeSelector(B.anchors[A.selected].hash))[0]))}),this.load(A.selected)),i(window).bind("unload",function(){B.lis.add(B.anchors).unbind(".tabs"),B.lis=B.anchors=B.panels=null})):A.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[A.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),A.cookie&&this._cookie(A.selected,A.cookie);for(var y=0,x;x=this.lis[y];y++){i(x)[i.inArray(y,A.disabled)!=-1&&!i(x).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}A.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(A.event!=="mouseover"){var v=function(d,c){c.is(":not(.ui-state-disabled)")&&c.addClass("ui-state-"+d)},u=function(d,c){c.removeClass("ui-state-"+d)};this.lis.bind("mouseover.tabs",function(){v("hover",i(this))}),this.lis.bind("mouseout.tabs",function(){u("hover",i(this))}),this.anchors.bind("focus.tabs",function(){v("focus",i(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){u("focus",i(this).closest("li"))})}var r,q;A.fx&&(i.isArray(A.fx)?(r=A.fx[0],q=A.fx[1]):r=q=A.fx);var b=q?function(d,e){i(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.hide().removeClass("ui-tabs-hide").animate(q,q.duration||"normal",function(){p(e,q),B._trigger("show",null,B._ui(d,e[0]))})}:function(d,e){i(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.removeClass("ui-tabs-hide"),B._trigger("show",null,B._ui(d,e[0]))},a=r?function(d,c){c.animate(r,r.duration||"normal",function(){B.lis.removeClass("ui-tabs-selected ui-state-active"),c.addClass("ui-tabs-hide"),p(c,r),B.element.dequeue("tabs")})}:function(e,d,f){B.lis.removeClass("ui-tabs-selected ui-state-active"),d.addClass("ui-tabs-hide"),B.element.dequeue("tabs")};this.anchors.bind(A.event+".tabs",function(){var d=this,o=i(d).closest("li"),n=B.panels.filter(":not(.ui-tabs-hide)"),e=B.element.find(B._sanitizeSelector(d.hash));if(o.hasClass("ui-tabs-selected")&&!A.collapsible||o.hasClass("ui-state-disabled")||o.hasClass("ui-state-processing")||B.panels.filter(":animated").length||B._trigger("select",null,B._ui(this,e[0]))===!1){this.blur();return !1}A.selected=B.anchors.index(this),B.abort();if(A.collapsible){if(o.hasClass("ui-tabs-selected")){A.selected=-1,A.cookie&&B._cookie(A.selected,A.cookie),B.element.queue("tabs",function(){a(d,n)}).dequeue("tabs"),this.blur();return !1}if(!n.length){A.cookie&&B._cookie(A.selected,A.cookie),B.element.queue("tabs",function(){b(d,e)}),B.load(B.anchors.index(this)),this.blur();return !1}}A.cookie&&B._cookie(A.selected,A.cookie);if(e.length){n.length&&B.element.queue("tabs",function(){a(d,n)}),B.element.queue("tabs",function(){b(d,e)}),B.load(B.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}i.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return !1})},_getIndex:function(b){typeof b=="string"&&(b=this.anchors.index(this.anchors.filter("[href$="+b+"]")));return b},destroy:function(){var a=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var d=i.data(this,"href.tabs");d&&(this.href=d);var e=i(this).unbind(".tabs");i.each(["href","load","cache"],function(f,c){e.removeData(c+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){i.data(this,"destroy.tabs")?i(this).remove():i(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),a.cookie&&this._cookie(null,a.cookie);return this},add:function(u,r,q){q===g&&(q=this.anchors.length);var p=this,o=this.options,n=i(o.tabTemplate.replace(/#\{href\}/g,u).replace(/#\{label\}/g,r)),b=u.indexOf("#")?this._tabId(i("a",n)[0]):u.replace("#","");n.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var a=p.element.find("#"+b);a.length||(a=i(o.panelTemplate).attr("id",b).data("destroy.tabs",!0)),a.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),q>=this.lis.length?(n.appendTo(this.list),a.appendTo(this.list[0].parentNode)):(n.insertBefore(this.lis[q]),a.insertBefore(this.panels[q])),o.disabled=i.map(o.disabled,function(d,c){return d>=q?++d:d}),this._tabify(),this.anchors.length==1&&(o.selected=0,n.addClass("ui-tabs-selected ui-state-active"),a.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){p._trigger("show",null,p._ui(p.anchors[0],p.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[q],this.panels[q]));return this},remove:function(a){a=this._getIndex(a);var o=this.options,n=this.lis.eq(a).remove(),f=this.panels.eq(a).remove();n.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(a+(a+1<this.anchors.length?1:-1)),o.disabled=i.map(i.grep(o.disabled,function(b,d){return b!=a}),function(b,d){return b>=a?--b:b}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],f[0]));return this},enable:function(a){a=this._getIndex(a);var d=this.options;if(i.inArray(a,d.disabled)!=-1){this.lis.eq(a).removeClass("ui-state-disabled"),d.disabled=i.grep(d.disabled,function(b,e){return b!=a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a]));return this}},disable:function(e){e=this._getIndex(e);var d=this,f=this.options;e!=f.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),f.disabled.push(e),f.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e])));return this},select:function(b){b=this._getIndex(b);if(b==-1){if(this.options.collapsible&&this.options.selected!=-1){b=this.options.selected}else{return this}}this.anchors.eq(b).trigger(this.options.event+".tabs");return this},load:function(a){a=this._getIndex(a);var r=this,q=this.options,p=this.anchors.eq(a)[0],o=i.data(p,"load.tabs");this.abort();if(!o||this.element.queue("tabs").length!==0&&i.data(p,"cache.tabs")){this.element.dequeue("tabs")}else{this.lis.eq(a).addClass("ui-state-processing");if(q.spinner){var n=i("span",p);n.data("label.tabs",n.html()).html(q.spinner)}this.xhr=i.ajax(i.extend({},q.ajaxOptions,{url:o,success:function(d,c){r.element.find(r._sanitizeSelector(p.hash)).html(d),r._cleanup(),q.cache&&i.data(p,"cache.tabs",!0),r._trigger("load",null,r._ui(r.anchors[a],r.panels[a]));try{q.ajaxOptions.success(d,c)}catch(b){}},error:function(b,d,c){r._cleanup(),r._trigger("load",null,r._ui(r.anchors[a],r.panels[a]));try{q.ajaxOptions.error(b,d,a,p)}catch(c){}}})),r.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(d,c){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",c);return this},length:function(){return this.anchors.length}}),i.extend(i.ui.tabs,{version:"1.8.18"}),i.extend(i.ui.tabs.prototype,{rotation:null,rotate:function(o,n){var u=this,r=this.options,q=u._rotate||(u._rotate=function(a){clearTimeout(u.rotation),u.rotation=setTimeout(function(){var b=r.selected;u.select(++b<u.anchors.length?b:0)},o),a&&a.stopPropagation()}),p=u._unrotate||(u._unrotate=n?function(b){t=r.selected,q()}:function(b){b.clientX&&u.rotate(null)});o?(this.element.bind("tabsshow",q),this.anchors.bind(r.event+".tabs",p),q()):(clearTimeout(u.rotation),this.element.unbind("tabsshow",q),this.anchors.unbind(r.event+".tabs",p),delete this._rotate,delete this._unrotate);return this}})})(jQuery);jQuery.effects||function(A,z){function m(a){if(!a||typeof a=="number"||A.fx.speeds[a]){return !0}if(typeof a=="string"&&!A.effects[a]){return !0}return !1}function n(a,i,g,f){typeof a=="object"&&(f=i,g=null,i=a,a=i.effect),A.isFunction(i)&&(f=i,g=null,i={});if(typeof i=="number"||A.fx.speeds[i]){f=g,g=i,i={}}A.isFunction(g)&&(f=g,g=null),i=i||{},g=g||i.duration,g=A.fx.off?0:typeof g=="number"?g:g in A.fx.speeds?A.fx.speeds[g]:A.fx.speeds._default,f=f||i.complete;return[a,i,g,f]}function o(f,e){var i={_:0},g;for(g in e){f[g]!=e[g]&&(i[g]=e[g])}return i}function p(a){var f,e;for(f in a){e=a[f],(e==null||A.isFunction(e)||f in r||/scrollbar/.test(f)||!/color/i.test(f)&&isNaN(parseFloat(e)))&&delete a[f]}return a}function q(){var g=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,f={},k,j;if(g&&g.length&&g[0]&&g[g[0]]){var i=g.length;while(i--){k=g[i],typeof g[k]=="string"&&(j=k.replace(/\-(\w)/g,function(d,c){return c.toUpperCase()}),f[j]=g[k])}}else{for(k in g){typeof g[k]=="string"&&(f[k]=g[k])}}return f}function x(a,f){var c;do{c=A.curCSS(a,f);if(c!=""&&c!="transparent"||A.nodeName(a,"body")){break}f="backgroundColor"}while(a=a.parentNode);return y(c)}function y(a){var d;if(a&&a.constructor==Array&&a.length==3){return a}if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)]}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55]}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}if(d=/rgba\(0, 0, 0, 0\)/.exec(a)){return v.transparent}return v[A.trim(a).toLowerCase()]}A.effects={},A.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(a,c){A.fx.step[c]=function(b){b.colorInit||(b.start=x(b.elem,c),b.end=y(b.end),b.colorInit=!0),b.elem.style[c]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var v={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},u=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};A.effects.animateClass=function(a,i,g,f){A.isFunction(g)&&(f=g,g=null);return this.queue(function(){var e=A(this),d=e.attr("style")||" ",c=p(q.call(this)),b,j=e.attr("class");A.each(u,function(k,l){a[l]&&e[l+"Class"](a[l])}),b=p(q.call(this)),e.attr("class",j),e.animate(o(c,b),{queue:!1,duration:i,easing:g,complete:function(){A.each(u,function(k,l){a[l]&&e[l+"Class"](a[l])}),typeof e.attr("style")=="object"?(e.attr("style").cssText="",e.attr("style").cssText=d):e.attr("style",d),f&&f.apply(this,arguments),A.dequeue(this)}})})},A.fn.extend({_addClass:A.fn.addClass,addClass:function(a,i,g,f){return i?A.effects.animateClass.apply(this,[{add:a},i,g,f]):this._addClass(a)},_removeClass:A.fn.removeClass,removeClass:function(a,i,g,f){return i?A.effects.animateClass.apply(this,[{remove:a},i,g,f]):this._removeClass(a)},_toggleClass:A.fn.toggleClass,toggleClass:function(k,j,i,b,a){return typeof j=="boolean"||j===z?i?A.effects.animateClass.apply(this,[j?{add:k}:{remove:k},i,b,a]):this._toggleClass(k,j):A.effects.animateClass.apply(this,[{toggle:k},j,i,b])},switchClass:function(a,k,j,i,g){return A.effects.animateClass.apply(this,[{add:k,remove:a},j,i,g])}}),A.extend(A.effects,{version:"1.8.18",save:function(e,d){for(var f=0;f<d.length;f++){d[f]!==null&&e.data("ec.storage."+d[f],e[0].style[d[f]])}},restore:function(e,d){for(var f=0;f<d.length;f++){d[f]!==null&&e.css(d[f],e.data("ec.storage."+d[f]))}},setMode:function(d,c){c=="toggle"&&(c=d.is(":hidden")?"show":"hide");return c},getBaseline:function(f,e){var i,g;switch(f[0]){case"top":i=0;break;case"middle":i=0.5;break;case"bottom":i=1;break;default:i=f[0]/e.height}switch(f[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=f[1]/e.width}return{x:g,y:i}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent()}var i={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},g=A("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f=document.activeElement;a.wrap(g),(a[0]===f||A.contains(a[0],f))&&A(f).focus(),g=a.parent(),a.css("position")=="static"?(g.css({position:"relative"}),a.css({position:"relative"})):(A.extend(i,{position:a.css("position"),zIndex:a.css("z-index")}),A.each(["top","left","bottom","right"],function(b,c){i[c]=a.css(c),isNaN(parseInt(i[c],10))&&(i[c]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return g.css(i).show()},removeWrapper:function(a){var f,e=document.activeElement;if(a.parent().is(".ui-effects-wrapper")){f=a.parent().replaceWith(a),(a[0]===e||A.contains(a[0],e))&&A(e).focus();return f}return a},setTransition:function(a,i,g,f){f=f||{},A.each(i,function(b,d){unit=a.cssUnit(d),unit[0]>0&&(f[d]=unit[0]*g+unit[1])});return f}}),A.fn.extend({effect:function(a,E,D,C){var B=n.apply(this,arguments),l={options:B[1],duration:B[2],callback:B[3]},k=l.options.mode,j=A.effects[a];if(A.fx.off||!j){return k?this[k](l.duration,l.callback):this.each(function(){l.callback&&l.callback.call(this)})}return j.call(this,l)},_show:A.fn.show,show:function(d){if(m(d)){return this._show.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="show";return this.effect.apply(this,c)},_hide:A.fn.hide,hide:function(d){if(m(d)){return this._hide.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="hide";return this.effect.apply(this,c)},__toggle:A.fn.toggle,toggle:function(a){if(m(a)||typeof a=="boolean"||A.isFunction(a)){return this.__toggle.apply(this,arguments)}var d=n.apply(this,arguments);d[1].mode="toggle";return this.effect.apply(this,d)},cssUnit:function(a){var f=this.css(a),e=[];A.each(["em","px","%","pt"],function(d,c){f.indexOf(c)>0&&(e=[parseFloat(f),c])});return e}}),A.easing.jswing=A.easing.swing,A.extend(A.easing,{def:"easeOutQuad",swing:function(a,k,j,i,g){return A.easing[A.easing.def](a,k,j,i,g)},easeInQuad:function(g,f,k,j,i){return j*(f/=i)*f+k},easeOutQuad:function(g,f,k,j,i){return -j*(f/=i)*(f-2)+k},easeInOutQuad:function(g,f,k,j,i){if((f/=i/2)<1){return j/2*f*f+k}return -j/2*(--f*(f-2)-1)+k},easeInCubic:function(g,f,k,j,i){return j*(f/=i)*f*f+k},easeOutCubic:function(g,f,k,j,i){return j*((f=f/i-1)*f*f+1)+k},easeInOutCubic:function(g,f,k,j,i){if((f/=i/2)<1){return j/2*f*f*f+k}return j/2*((f-=2)*f*f+2)+k},easeInQuart:function(g,f,k,j,i){return j*(f/=i)*f*f*f+k},easeOutQuart:function(g,f,k,j,i){return -j*((f=f/i-1)*f*f*f-1)+k},easeInOutQuart:function(g,f,k,j,i){if((f/=i/2)<1){return j/2*f*f*f*f+k}return -j/2*((f-=2)*f*f*f-2)+k},easeInQuint:function(g,f,k,j,i){return j*(f/=i)*f*f*f*f+k},easeOutQuint:function(g,f,k,j,i){return j*((f=f/i-1)*f*f*f*f+1)+k},easeInOutQuint:function(g,f,k,j,i){if((f/=i/2)<1){return j/2*f*f*f*f*f+k}return j/2*((f-=2)*f*f*f*f+2)+k},easeInSine:function(g,f,k,j,i){return -j*Math.cos(f/i*(Math.PI/2))+j+k},easeOutSine:function(g,f,k,j,i){return j*Math.sin(f/i*(Math.PI/2))+k},easeInOutSine:function(g,f,k,j,i){return -j/2*(Math.cos(Math.PI*f/i)-1)+k},easeInExpo:function(g,f,k,j,i){return f==0?k:j*Math.pow(2,10*(f/i-1))+k},easeOutExpo:function(g,f,k,j,i){return f==i?k+j:j*(-Math.pow(2,-10*f/i)+1)+k},easeInOutExpo:function(g,f,k,j,i){if(f==0){return k}if(f==i){return k+j}if((f/=i/2)<1){return j/2*Math.pow(2,10*(f-1))+k}return j/2*(-Math.pow(2,-10*--f)+2)+k},easeInCirc:function(g,f,k,j,i){return -j*(Math.sqrt(1-(f/=i)*f)-1)+k},easeOutCirc:function(g,f,k,j,i){return j*Math.sqrt(1-(f=f/i-1)*f)+k},easeInOutCirc:function(g,f,k,j,i){if((f/=i/2)<1){return -j/2*(Math.sqrt(1-f*f)-1)+k}return j/2*(Math.sqrt(1-(f-=2)*f)+1)+k},easeInElastic:function(j,i,E,D,C){var B=1.70158,l=0,k=D;if(i==0){return E}if((i/=C)==1){return E+D}l||(l=C*0.3);if(k<Math.abs(D)){k=D;var B=l/4}else{var B=l/(2*Math.PI)*Math.asin(D/k)}return -(k*Math.pow(2,10*(i-=1))*Math.sin((i*C-B)*2*Math.PI/l))+E},easeOutElastic:function(j,i,E,D,C){var B=1.70158,l=0,k=D;if(i==0){return E}if((i/=C)==1){return E+D}l||(l=C*0.3);if(k<Math.abs(D)){k=D;var B=l/4}else{var B=l/(2*Math.PI)*Math.asin(D/k)}return k*Math.pow(2,-10*i)*Math.sin((i*C-B)*2*Math.PI/l)+D+E},easeInOutElastic:function(j,i,E,D,C){var B=1.70158,l=0,k=D;if(i==0){return E}if((i/=C/2)==2){return E+D}l||(l=C*0.3*1.5);if(k<Math.abs(D)){k=D;var B=l/4}else{var B=l/(2*Math.PI)*Math.asin(D/k)}if(i<1){return -0.5*k*Math.pow(2,10*(i-=1))*Math.sin((i*C-B)*2*Math.PI/l)+E}return k*Math.pow(2,-10*(i-=1))*Math.sin((i*C-B)*2*Math.PI/l)*0.5+D+E},easeInBack:function(b,B,l,k,j,i){i==z&&(i=1.70158);return k*(B/=j)*B*((i+1)*B-i)+l},easeOutBack:function(b,B,l,k,j,i){i==z&&(i=1.70158);return k*((B=B/j-1)*B*((i+1)*B+i)+1)+l},easeInOutBack:function(b,B,l,k,j,i){i==z&&(i=1.70158);if((B/=j/2)<1){return k/2*B*B*(((i*=1.525)+1)*B-i)+l}return k/2*((B-=2)*B*(((i*=1.525)+1)*B+i)+2)+l},easeInBounce:function(a,k,j,i,g){return i-A.easing.easeOutBounce(a,g-k,0,i,g)+j},easeOutBounce:function(g,f,k,j,i){return(f/=i)<1/2.75?j*7.5625*f*f+k:f<2/2.75?j*(7.5625*(f-=1.5/2.75)*f+0.75)+k:f<2.5/2.75?j*(7.5625*(f-=2.25/2.75)*f+0.9375)+k:j*(7.5625*(f-=2.625/2.75)*f+0.984375)+k},easeInOutBounce:function(a,k,j,i,g){if(k<g/2){return A.easing.easeInBounce(a,k*2,0,i,g)*0.5+j}return A.easing.easeOutBounce(a,k*2-g,0,i,g)*0.5+i*0.5+j}})}(jQuery);!function(m){var j=function(a,b){this.options=b;this.$element=m(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",m.proxy(this.hide,this))};j.prototype={constructor:j,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var a=this;if(this.isShown){return}m("body").addClass("modal-open");this.isShown=true;this.$element.trigger("show");n.call(this);o.call(this,function(){var b=m.support.transition&&a.$element.hasClass("fade");!a.$element.parent().length&&a.$element.appendTo(document.body);a.$element.show();if(b){a.$element[0].offsetWidth}a.$element.addClass("in");b?a.$element.one(m.support.transition.end,function(){a.$element.trigger("shown")}):a.$element.trigger("shown")})},hide:function(a){a&&a.preventDefault();if(!this.isShown){return}var b=this;this.isShown=false;m("body").removeClass("modal-open");n.call(this);this.$element.trigger("hide").removeClass("in");m.support.transition&&this.$element.hasClass("fade")?k.call(this):l.call(this)}};function k(){var b=this,a=setTimeout(function(){b.$element.off(m.support.transition.end);l.call(b)},500);this.$element.one(m.support.transition.end,function(){clearTimeout(a);l.call(b)})}function l(a){this.$element.hide().trigger("hidden");o.call(this)}function o(a){var b=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=m.support.transition&&c;this.$backdrop=m('<div class="modal-backdrop '+c+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(m.proxy(this.hide,this))}if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");d?this.$backdrop.one(m.support.transition.end,a):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");m.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(m.support.transition.end,m.proxy(i,this)):i.call(this)}else{if(a){a()}}}}function i(){this.$backdrop.remove();this.$backdrop=null}function n(){var a=this;if(this.isShown&&this.options.keyboard){m(document).on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()})}else{if(!this.isShown){m(document).off("keyup.dismiss.modal")}}}m.fn.modal=function(a){return this.each(function(){var b=m(this),c=b.data("modal"),d=m.extend({},m.fn.modal.defaults,b.data(),typeof a=="object"&&a);if(!c){b.data("modal",(c=new j(this,d)))}if(typeof a=="string"){c[a]()}else{if(d.show){c.show()}}})};m.fn.modal.defaults={backdrop:true,keyboard:true,show:true};m.fn.modal.Constructor=j;m(function(){m("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b=m(this),d,e=m(b.attr("data-target")||(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),c=e.data("modal")?"toggle":m.extend({},e.data(),b.data());a.preventDefault();e.modal(c)})})}(window.jQuery);!function(b){b(function(){b.support.transition=(function(){var f=document.body||document.documentElement,e=f.style,a=e.transition!==undefined||e.WebkitTransition!==undefined||e.MozTransition!==undefined||e.MsTransition!==undefined||e.OTransition!==undefined;return a&&{end:(function(){var c="TransitionEnd";if(b.browser.webkit){c="webkitTransitionEnd"}else{if(b.browser.mozilla){c="transitionend"}else{if(b.browser.opera){c="oTransitionEnd"}}}return c}())}})()})}(window.jQuery);!function(c){var d=function(a,b){this.init("tooltip",a,b)};d.prototype={constructor:d,init:function(b,i,j){var a,k;this.type=b;this.$element=c(i);this.options=this.getOptions(j);this.enabled=true;if(this.options.trigger!="manual"){a=this.options.trigger=="hover"?"mouseenter":"focus";k=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(a,this.options.selector,c.proxy(this.enter,this));this.$element.on(k,this.options.selector,c.proxy(this.leave,this))}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(a){a=c.extend({},c.fn[this.type].defaults,a,this.$element.data());if(a.delay&&typeof a.delay=="number"){a.delay={show:a.delay,hide:a.delay}}return a},enter:function(a){var b=c(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show){b.show()}else{b.hoverState="in";setTimeout(function(){if(b.hoverState=="in"){b.show()}},b.options.delay.show)}},leave:function(a){var b=c(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.hide){b.hide()}else{b.hoverState="out";setTimeout(function(){if(b.hoverState=="out"){b.hide()}},b.options.delay.hide)}},show:function(){var j,n,a,l,b,m,k;if(this.hasContent()&&this.enabled){j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}m=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;n=/in/.test(m);j.remove().css({top:0,left:0,display:"block"}).appendTo(n?this.$element:document.body);a=this.getPosition(n);l=j[0].offsetWidth;b=j[0].offsetHeight;switch(n?m.split(" ")[1]:m){case"bottom":k={top:a.top+a.height,left:a.left+a.width/2-l/2};break;case"top":k={top:a.top-b,left:a.left+a.width/2-l/2};break;case"left":k={top:a.top+a.height/2-b/2,left:a.left-l};break;case"right":k={top:a.top+a.height/2-b/2,left:a.left+a.width};break}j.css(k).addClass(m).addClass("in")}},setContent:function(){var a=this.tip();a.find(".tooltip-inner").html(this.getTitle());a.removeClass("fade in top bottom left right")},hide:function(){var f=this,b=this.tip();b.removeClass("in");function a(){var e=setTimeout(function(){b.off(c.support.transition.end).remove()},500);b.one(c.support.transition.end,function(){clearTimeout(e);b.remove()})}c.support.transition&&this.$tip.hasClass("fade")?a():b.remove()},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof(a.attr("data-original-title"))!="string"){a.attr("data-original-title",a.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(a){return c.extend({},(a?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,f=this.$element,b=this.options;a=f.attr("data-original-title")||(typeof b.title=="function"?b.title.call(f[0]):b.title);a=a.toString().replace(/(^\s*|\s*$)/,"");return a},tip:function(){return this.$tip=this.$tip||c(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};c.fn.tooltip=function(a){return this.each(function(){var b=c(this),g=b.data("tooltip"),i=typeof a=="object"&&a;if(!g){b.data("tooltip",(g=new d(this,i)))}if(typeof a=="string"){g[a]()}})};c.fn.tooltip.Constructor=d;c.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(c){var d=function(a,b){this.init("popover",a,b)};d.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var a=this.tip(),b=this.getTitle(),f=this.getContent();a.find(".popover-title")[c.type(b)=="object"?"append":"html"](b);a.find(".popover-content > *")[c.type(f)=="object"?"append":"html"](f);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var b,f=this.$element,a=this.options;b=f.attr("data-content")||(typeof a.content=="function"?a.content.call(f[0]):a.content);b=b.toString().replace(/(^\s*|\s*$)/,"");return b},tip:function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip}});c.fn.popover=function(a){return this.each(function(){var b=c(this),g=b.data("popover"),i=typeof a=="object"&&a;if(!g){b.data("popover",(g=new d(this,i)))}if(typeof a=="string"){g[a]()}})};c.fn.popover.Constructor=d;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);function jloupe(){var l=null;var d=null;var g=null;var b=null;var c=null;function j(){$.subscribe("pages",k);$.subscribe("dragging",m);l=false;d=false}function i(){$.subscribe("tabletTouch",a)}function m(p,o){if(o==true){d=true}else{setTimeout(function(){d=false},275)}}function k(o){$(".thejloupe").remove().promise().done(function(){$(".thejloupeview").remove().promise().done(function(){n("#DV-pageImage-p0");n("#DV-pageImage-p1");n("#DV-pageImage-p2")})})}function n(q){var A={margin:0,backgroundColor:"#fff",image:false,repeat:false,_offset:35,width:480,height:108,cursorOffsetX:parseInt(-480/2),cursorOffsetY:-150,borderColor:"#333"};var o=navigator.userAgent;var p=/iPad/i.test(o)||/iPhone OS 3_1_2/i.test(o)||/iPhone OS 3_2_2/i.test(o);var x=$("<div />").addClass("thejloupe").css("position","absolute").css("z-index","20003").css("width",A.width+"px").css("height",A.height+"px").css("backgroundColor",A.borderColor).css("overflow","hidden").hide().appendTo("body");if(!A.borderColor){x.css("backgroundColor","none")}if(A.repeat){x.css("backgroundRepeat","repeat")}else{x.css("backgroundRepeat","no-repeat")}var y=$("<div />").addClass("thejloupeview").css("width",A.width-A.margin*2+"px").css("height",A.height-A.margin*2+"px").css("backgroundRepeat","no-repeat").css("marginLeft",A.margin+"px").css("marginTop",A.margin+"px").appendTo(x);if(!p){var r=$("<div>Line up arrow to left of name. Click to show 1940 Census district finder.</div>").addClass("thejloupehelp").css("width",A.width-A.margin*2+"px").css("paddingTop","4px").css("height","20px").css("textAlign","center").css("backgroundColor","#000").css("color","#fff").css("position","absolute").css("bottom","0").appendTo(y)}if(A.backgroundColor){y.css("backgroundColor",A.backgroundColor)}var v=$(q).parent("a").attr("href");var z=$(q).attr("src");z=(v)?v:z;var u=$("<img />").attr("src",z);$(q).data("zoom",u);if(!p){f(q,x,y,A)}else{e(x,y,A)}}function e(p,o,q){if(!!p&&!!o&&!!q){g=p;b=o;c=q}else{return[g,b,c]}}function a(v,q,u,z){log("publish jdldlj");loupe_vars=e();loupe=loupe_vars[0];view=loupe_vars[1];options=loupe_vars[2];if($(".modal-backdrop").length==0){var x=$(loupe).offset();var r=$("<img />").attr("src",u.magImageEl[0]);$(loupe).data("zoom",r);$(loupe).addClass("active-loupe");var p=z.clientX;var y=z.clientY;w=$(r).prop?$(r).prop("width"):$(r).attr("width");h=$(r).prop?$(r).prop("height"):$(r).attr("height");zlo=(((p-z.target.x)/z.target.width)*w*-1)+options._offset;zto=(((y-z.target.y)/z.target.height)*h*-1)+(options.height/2);$(view).css("backgroundImage","url("+$(r).attr("src")+")").css("backgroundPosition",zlo+"px "+zto+"px");$(loupe).show();$(loupe).animate({top:$(window).height()/6,left:($(window).width()/2)-($(loupe).width()/2)},300,function(){$.publish("clickSpot",[q])})}}function f(u,q,o,r){var p=_.debounce(function(x){if($(".modal-backdrop").length==0&&l!==true&&d!==true){if($(q).hasClass("active-loupe")){l=true;var v=$(x).attr("data-page")||$(x).data("page");$(".active-loupe").animate({top:$(window).height()/6,left:($(window).width()/2)-($(".active-loupe").width()/2)},200,function(){$.publish("clickSpot",[v])});$(this).die("mousemove");$(this).die("mouseleave");$(this).die("mouseenter");$(this).die("click");$.unsubscribe("pages")}}},200);$(u).on({mousemove:function(y){y.preventDefault();if(d==true){q.hide();return true}if(l!==true){$(q).hide();$(q).show();$(this).on("mouseenter",function(){$(q).stop(true,true);$(q).show()});if($(o).css("background-image")){$(q).addClass("active-loupe")}else{$(q).removeClass("active-loupe")}var z=$(this).offset();var x=$(this).data("zoom");var v=0,A=0;if(y.pageX||y.pageY){v=y.pageX;A=y.pageY}else{if(y.clientX||y.clientY){v=y.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;A=y.clientY+document.body.scrollTop+document.documentElement.scrollTop}}if((v+r.cursorOffsetX)>($(".DV").width()-r.width)){_left=$(".DV").width()-r.width}else{if((v+r.cursorOffsetX)<=0){_left=0}else{_left=v+r.cursorOffsetX}}if((A+r.cursorOffsetY)<=$("#wrapper").height()+$(".DV-header").height()){_top=$("#wrapper").height()+$(".DV-header").height()+160}else{_top=A+r.cursorOffsetY}$(q).offset({top:_top,left:_left});w=$(x).prop?$(x).prop("width"):$(x).attr("width");h=$(x).prop?$(x).prop("height"):$(x).attr("height");zlo=(((v-z.left)/this.width)*w*-1)+r._offset;zto=(((A-z.top)/this.height)*h*-1)+(r.height/2);$(o).css("backgroundImage","url("+$(x).attr("src")+")").css("backgroundPosition",zlo+"px "+zto+"px")}},mouseleave:function(){if(l!==true){$(q).removeClass("active-loupe");$(q).stop(true,true);$(q).hide()}},click:function(v){v.preventDefault();p(u)},dblclick:function(v){v.preventDefault()}})}return{init:j,tab_init:i}}(function(b){var a=0;function f(){jloupe().init();jloupe().tab_init();b.subscribe("clickSpot",c);j()}function j(){b("#loc_add").on("hide",function(){i();b(".thejloupe").remove();d()})}function e(k){b("#loc_add").on("show",function(){i();g(this)});if(typeof k!=="undefined"){k()}}function g(m){var k=b(".modal");k.css("left",(b(window).width()/2)-(b(m).width()/2)+"px");var l=b(window).height()/6+120;if(b(window).height()<l+k.height()){l=0}k.css("top",(l+"px"))}function i(){b("#frm-modal input").each(function(){b(this).val("")})}function c(l,k){a=k;if(environment.hasOwnProperty("streets")){}else{b.getScript("/assets/fuzzy.js",function(m,o,n){fuzzy().init();fuzzy().autoCompleteO(a);b(".popovers").popover()})}e(function(){b("#loc_add").modal({show:true,keyboard:false,backdrop:"static"})})}function d(){jloupe().init();b.publish("pages",[])}return{init:f()}}(jQuery));